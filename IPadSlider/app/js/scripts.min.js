$(function() {

	// Custom JS

});



const sections = document.querySelectorAll('section');

const nextBtn = document.getElementById('next');

const dots = document.querySelectorAll('slider__dots');

const width = 1024;

const height = 768;

index = 0;


// sections.forEach((section, i) => {

//         if ( i == index){

//             section.scrollIntoView(

//                 { behavior: "smooth" }

//             );
//         }
//     });


// let index = 0;

// var lastScrollTop = 0;

// let currentPageOffsetY = window.pageYOffset;

// window.addEventListener('touchmove', function(e){

//     console.log(e.changedTouches[0].clientX);

//     let moveOtstup = e.changedTouches[0].clientX;

//     if(pageOffsetY > 1){

//         index++

//         if(index > 2) return;

//         window.scrollTo({
//                 behavior: 'smooth',
//                 top: 768 * index,
//             });
//     }

    

//     let touchEndY = e.changedTouches[0].pageY;
//     console.log(touchEndY + "px"); 

// });

// index1 = 0;

// window.addEventListener('touchend', function(e){

//     let touchStartY = e.changedTouches[0].pageY;
//     console.log(touchStartY + "nachalo");

//     window.addEventListener('touchend', function(e){

//         let touchEndY = e.changedTouches[0].pageY;
//         console.log(touchEndY + "konec");
//         console.log(window.pageYOffset);

//         let pageYOffset = window.pageYOffset;

        

//         if (pageYOffset > 0){

//                 index1++;
        
//                 if (index1 > 2) return;
        
//                 window.scrollTo({
//                     behavior: 'smooth',
//                     top: '100%',
//                 });

//                 console.log(index1);
//                 console.log(1);
        
//             }
        
//             else if (pageYOffset < 1536 ){

//                 index1--;
            
//                 if(index1 === 0) return; 
        
//                 window.scrollTo({
//                     behavior: 'smooth',
//                     top: 0,
//                 });
        
//                 console.log(index1);
//                 console.log(2);
        
//             }

//             else{
                
//                 console.log(index1);
//                 console.log("Чот не то");
//                 console.log(3);
               
//             }

//     });
    

// });



// window.addEventListener('click', function(){
  
//     var box1 = document.getElementById('box1');
//     var statusdiv = document.getElementById('statusdiv');
//     var startx = 0;
//     var dist = 0;
  
//     box1.addEventListener('touchstart', function(e){
//         var touchobj = e.changedTouches[0] // первая точка прикосновения
//         startx = parseInt(touchobj.clientX) // положение точки касания по x, относительно левого края браузера
//         statusdiv.innerHTML = 'Status: touchstart ClientX: ' + startx + 'px'
//         e.preventDefault()
//     }, false)
  
//     box1.addEventListener('touchmove', function(e){
//         var touchobj = e.changedTouches[0] // первая точка прикосновения для данного события
//         var dist = parseInt(touchobj.clientX) - startx
//         statusdiv.innerHTML = 'Событие: touchmove Гориз. перемещение: ' + dist + 'px'
//         e.preventDefault()
//         console.log(dist);
//     }, false)
  
//     box1.addEventListener('touchend', function(e){
//         var touchobj = e.changedTouches[0] // первая точка прикосновения для данного события
//         statusdiv.innerHTML = 'Событие: touchend =' + touchobj.clientX + 'px'
//         e.preventDefault()
//     }, false)
  
// }, false)



// window.addEventListener('touchstart', function(e){


//     console.log("It`s touchstarting");

//     let touchStartY = e.changedTouches[0].pageY;

//     console.log(touchStartY); 

//     window.addEventListener('touchmove', function(e){

//         let touchEndY = e.changedTouches[0].clientY;

       
//         console.log(event);
//         console.log(touchEndY);
//         console.log(e.touches[0].pageY);
//         console.log("Move delta: " + (e.touches[0].pageY - event.touches[0].pageY))
    
//         if (touchStartY > touchEndY) {
//             console.log('down');
//         } else if(touchEndY > touchStartY){
//             console.log('up');
//         }
    
//     });

// });

// window.addEventListener('touchmove', function(e){

//     let event = null;

//     document.addEventListener("touchstart", function (e) {
//         event = e;
//     });
//     document.addEventListener("touchmove", function (e) {
//         if (event) {

//             console.log("Move delta: " + (e.touches[0].pageY - event.touches[0].pageY))

//             let touchDifference = e.touches[0].pageY - event.touches[0].pageY;

            // if( touchDifference < 0 ){
            //     index++;
                
            //     window.scrollTo({
            //         behavior: 'smooth',
            //         top: 760,
            //     });
            //     console.log(index)
            //     console.log("down");

            // }

            // else if ( touchDifference > 0 ){
            //     console.log("up");
            // }

//         }
//     });
  

// });


// document.addEventListener("mousewheel", function (e) {
//     {bubbles : false}
//     console.log(e.deltaY);
// });

// document.addEventListener("touchstart", function(e){

//         console.log("started");
//         console.log(e.changedTouches[0].pageY + "начало");
//         console.log(window.pageYOffset + "отступ");

//         document.addEventListener("touchend", function(e){

//             console.log(e.changedTouches[0].pageY + "конец");

//             if(window.pageYOffset > 0 && window.pageYOffset < 768){

//                 window.scrollTo({
//                     behavior: 'smooth',
//                     top: 768,
//                 });

//             }

//             else if(window.pageYOffset > 768 && window.pageYOffset < height*2)

//             {
//                 window.scrollTo({
//                     behavior: 'smooth',
//                     top: 768*2,
//                 });
//             }

//         });


// });


// window.addEventListener('touchend', function(e){
    
//     let touchEndY = e.changedTouches[0].pageY;
//     console.log(touchEndY + "!!! "); 
//     console.log(e); 

// });

// window.addEventListener('touchstart', function(e){

//     let touchStartY = e.changedTouches[0].pageY;
//     console.log(touchStartY + "!!! "); 

// }, false)

// console.log(index);




// +++++++++++++++++++++++


// if(touchEndY > touchStartY){

//     index++

//     if (index > 2) return;

//     window.scrollTo({
//         behavior: 'smooth',
//         top: 768 * index,
//     });
// }

// else if(touchEndY < touchStartY){

//     index --;

//     if ( index === 0 ) return

//     window.scrollTo({
//         behavior: 'smooth',
//         top: -(768 * index),
//     });
// }

// else return

// console.log(index);

// +++++++++++++++++++++










// 1)Получить Энд и старт, вычесть разницу, если отрицательная индекс++ и наоборот
// сделать скролл 768 или высота 100% умноженное на индекс

// window.addEventListener('load', function(){
    
//     document.body.addEventListener('touchmove', function(e){

//         let touchEndY = e.changedTouches[0].pageY;
//         console.log(touchEndY + "px");

//     }, false);

    // document.body.addEventListener('touchend', function(e){

    //     let touchEndY = e.changedTouches[0].pageY;
    //     console.log(touchEndY + "px");
    //     return touchEndY;

    // }, false);


    // document.body.addEventListener('touchstart', function(e){

    //     let touchStartY = e.changedTouches[0].pageY;
    //     touchStartY1 = parseInt(touchStartY.clientX);
    //     console.log(touchStartY);
    //     console.log(touchStartY1);

    // }, false)


    
    // let touchDifference = touchStartY - touchEndY;
    
    // console.log(touchDifference);

    // let scrollDest = 768 - 100;
    
    // console.log(touchStartX);
    
    // window.scrollTo({
    //     behavior: 'smooth',
    //     top: 500,
    //     });
    

// });



// index++;




// window.addEventListener('wheel', (e) =>{

//     const delta = e.wheelDelta;
 
//     if (delta < 0){
        
//         index++;

//         if (index > 2) return;

//         sections.forEach((section, i) => {

//             if ( i == index){

//                 section.scrollIntoView(

//                     { behavior: "smooth" }

//                 );
//             }
//         });

//     }

//     else{

//         index--;

//         if (index > 2) return;

//         sections.forEach((section, i) => {

//             if ( i == index){

//                 section.scrollIntoView(

//                     { behavior: "smooth" }

//                 );
//             }
//         });

        

//     }
// })


// +++++++++++++++

function toggleSlider(){

    let toggle = document.getElementById('toggle');

    let horizontalSlider = document.getElementById('slider__horizontal');

    if ( toggle.value > 66 ){

        horizontalSlider.style.left = -width*2 + "px";

        console.log(horizontalSlider.style.left);
       
    }

    else if( toggle.value >= 33 ){
        
        horizontalSlider.style.left = -width + "px";
    }

    else{ horizontalSlider.style.left = 0;}
    
}


window.addEventListener('load', function(e){

    let shader = document.getElementById('shader');

    if(screen.width !== width || screen.height !== height ){
        shader.style.display = "block";
    }

    else{ shader.style.display = "none" };

});


window.addEventListener('scroll', function(e){

    sections.forEach((section, i) => {
            index++;
                if ( i == index){
                    

                    section.scrollIntoView(
    
                        { behavior: "smooth" }
    
                    );
                }
            });    

}, false);




// ++++++++++++++++++

